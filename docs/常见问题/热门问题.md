---
sidebar_position: 1
slug: /faq
---

# 热门问题


下面列出的问题主要偏重于**技术问题**，如果您需要了解的是**非技术问题**，请参考[此处](/zh/bz-faq.md)。

## 产品有帮助文档吗？

我们为每一个镜像产品都提供了在线文档，请查看[所有文档](https://support.websoft9.com/zh/alldocs.html)

## 服务器账号密码是什么？

**Linux**

* 主机地址：服务公网IP地址
* 连接方式：云控制台在线SSH 或 SFTP客户端工具 或 SSH客户端工具
* 管理员密码：创建服务器的时候自行设置，若不记得密码需要通过**云控制台**重置。
* 管理员账号：不同的云平台有一定的差异
   |  云平台   |  管理员账号   | 其他|
   | --- | --- | --- |
   |  Azure   |  创建服务器的时候自行设置   | [如何开启root账户？](https://support.websoft9.com/docs/azure/zh/server-login.html#示例2：启用系统root账号) |
   |  AWS Centos 系统   |  centos   | [如何开启root账户？](https://support.websoft9.com/docs/aws/zh/server-login.html#示例2：启用系统root账号) |
   |  AWS AmazonLinux 系统   | ec2-user   | [如何开启root账户？](https://support.websoft9.com/docs/aws/zh/server-login.html#示例2：启用系统root账号) |
   |  AWS Ubuntu 系统  |  ubuntu   | [如何开启root账户？](https://support.websoft9.com/docs/aws/zh/server-login.html#示例2：启用系统root账号)  |
   |  阿里云，华为云，腾讯云   |  root   | |

**Windows**

* 主机地址：服务公网IP地址
* 连接方式：云控制台在线管理 或 远程桌面工具
* 管理员密码：创建服务器的时候自行设置，若不记得密码需要通过**云控制台**重置。
* 管理员账号：不同的云平台有一定的差异
   |  云平台   |  管理员账号   |
   | --- | --- |
   |  Azure   |  创建服务器的时候自行设置   |
   |  AWS，阿里云，华为云，腾讯云   |  administrator   |

## 怎么连接/登录云服务器？

请查阅：本文档的[《云服务器操作》](/zh/tech-instance.md)章节

## 服务器连不上？

服务器连不上有两个最常见的原因：

* 安全组端口没有开启（Windows服务器对应的端口是：3389，Linux对应的端口是：22）
* 服务器无法连接互联网

如果无法自行解决问题，请联系云厂商的客服

## 如何通过 FTP 上传文件？

系统中本身默认没有安装FTP，但你可以通过**更简单**的方式管理文件：

* Windows服务器：直接[远程桌面](/zh/tech-instance.md#连接-windows)登录后，通过拷贝和粘贴的方式管理文件
* Linux服务器：请使用 [SFTP 连接服务器](/zh/tech-instance.html#连接-linux)后，通过可视化界面管理文件

以上两种方式的具体使用请参考：本文档的[《云服务器操作》](/zh/tech-instance.md)

## 如何初始化安装？

当镜像部署到您的服务器后，一般需要完成一个`初始化安装`操作，方可使用。

一般情况下，进入初始化界面有两种入口：

* http://服务器公网IP
* http://服务器公网IP/9panel

如果尝试了两个入口，均无法进入初始化界面，请检查**服务器安全组 80 端口**是开启状态

> 部分镜像的初始化不是通过浏览器访问，而需要登录到服务器中修改配置才能完成

## 访问 *http://服务器公网IP* 失败？

最常见的原因如下：

* 服务器安全组**80** 端口没有开启
* 你所安装的镜像不支持此类访问
* 安装的不是目标镜像
* 你的服务器网络故障
* 产品本身的故障导致
* 其他

不管哪种原因，一旦无法访问，请第一时刻联系我们[人工支持](https://support.websoft9.com/zh/contact.html)

## 数据库密码是什么？

数据库的账号密码存储在您的服务器指定文件中：`/credentials/password.txt`  。

需[连接服务器](zh/tech-instance.md#连接-linux)，运行 `sudo cat /credentials/password.txt` 命令获取数据库密码。  

![获取数据库密码](https://libs.websoft9.com/Websoft9/DocsPicture/zh/common/catdbpassword-websoft9.png)

当然，也可以使用 **[WinSCP](https://winscp.net/)** 等 SFTP 工具，直接打开密码存储文件，查看密码。

![获取数据库密码](https://libs.websoft9.com/Websoft9/DocsPicture/zh/winscp/winscp-checkpasswordfile-websoft9.png)

## 数据库如何管理？

我们提供的部署方案中，支持如下的三种管理数据库有三种方式：

1. 登录服务器使用命令行
2. 使用 dbForge, Navicat 等本地客户端工具
3. 使用浏览器版的可视化管理工具（推荐）

浏览器版的可视化管理工具包括：phpMyAdmin, phpPgAdmin, adminMongo等。  

它们的入口地址如下：

* phpMyAdmin for MySQL: *http://服务器公网IP:9090*
* phpPgAdmin for PostgreSQL: *http://服务器公网IP:9090*
* adminMongo for MongoDB: *http://服务器公网IP:9091*

> 以上仅提供通常的入口地址，更为精准的地址仍然需要以应用的文档为准。

## 数据库客户端无法远程连接数据库？

从安全的角度考量，默认情况下数据库关闭了其远程连接。如果您需要通过本地客户端远程访问数据库，最少需要具备三个条件：

* 数据库服务器的设置中，已经完成了**可以被远程访问**的设置
* 服务器安全组开启了数据库的远程访问端口（例如：MySQL需要开启3306端口）
* 本地客户端-数据库服务器的网络是畅通的

具体参考我们的操作文档：

* [MySQL 设置远程访问](http://support.websoft9.com/docs/mysql/zh/solution-remote.html)
* [PostgreSQL 设置远程访问](http://support.websoft9.com/docs/postgresql/zh/solution-more.html#设置远程访问)
* [MongoDB 设置远程访问](http://support.websoft9.com/docs/mongodb/zh/solution-more.html#设置远程访问)

## 如何配置域名？

给网站配上域名访问有两个步骤：

1. 域名解析：域名解析需要通过域名控制台操作
2. 域名绑定：域名绑定需要连接到云服务器，修改云服务器上**虚拟主机配置文件**中的域名项：

虚拟主机配置文件在哪里呢？ 要根据所使用的 HTTP 服务器而定，一般说来：

* Apache 的虚拟主机配置文件地址：*/etc/httpd/conf.d/vhost.conf*
* Nginx 的虚拟主机配置文件地址：*/etc/nginx/conf.d/default.conf*

## 如何备份？

备份是使用云服务器必备的工作，如果您还没有重视备份或不知道如何备份，请参考本文档的[备份](/zh/tech-backup.md)章节。

## 如何更换（或重置）镜像？

更换镜像即重装系统，适用于镜像退订，产品更换等场景。  

重置镜像即恢复最初安装镜像的状态，适用于测试等场景。  

阿里云、华为云和腾讯云等国内云平台支持对已有的服务器进行更换镜像的操作，而 Azure 和 AWS 不支持这种操作。  

如果您需要更换（或重置）镜像，请参考：本文档的[《云服务器操作》](/zh/tech-instance.md)  

## 如何设置 HTTPS 访问？

我们针对所有产品预设对 SSL/HTTPS 的支持，用户仅需要运行如下命令，即可开始使用：

```
sudo certbot
```

配置 HTTP 过程中，仍然有一些不可预料的问题，详情参考本文档的 [HTTPS](/zh/tech-https.md) 章节

## 如何配置邮件发送（SMTP）？

本文章针对**发送邮件**提供了[专门的章节 SMTP](/zh/tech-smtp.html)进行了详细的描述。

## 如何配置安全组？

使用云服务器，无需关注服务器自身的防火墙，只需在云控制台做好**安全组配置**即可控制网络访问。

安全组配置最常见的操作就是开启某一个端口，比如：TCP:80。

不同的云平台的安全组操作方式略有差异，设置参考：[云平台指南](/zh/tech-instance.md)

## 应用源码存放在哪里？

由 Websoft9 提供的应用，规划了统一的存放目录：

* */data/wwwroot/appname*  存放应用本体，appname 即应用名称，例如：wordpress
* */data/apps* 存放应用所需的支持工具，例如 phpmyadmin

## 如何修改网站根目录？

当你部署运行环境镜像后，默认网站目录为：`/data/wwwroot/example`，也就是一个示例目录。  

如果需要修改为其他目录，需要找到对应的**虚拟主机配置文件**，修改其中的网站路径配置项即可。

下面以 Nginx 为例，root 字段即对应的网站目录地址：

```
server
{
listen 80;
server_name example.yourdomain.com;
index index.html index.htm index.php;
root  /data/wwwroot/example;
error_log /var/log/nginx/example.yourdomain.com-error.log crit;
access_log  /var/log/nginx/example.yourdomain.com-access.log;
...
}
```

> 服务器都可以部署多个网站。对其中某一个网站来说，其对应的存放目录才可以称之为**根目录**。

## 升级或安装扩展时网络超时？

在使用 WordPress, ownCloud 等应用时，可能出现在线升级等操作由于网络原因导致失败。  

**常见网络超时场景**

* 在线升级
* 应用市场安装插件
* 在应用提供商的平台上注册账号
* 程序中的 reCAPTCHA 验证
* Google 地图
* 程序代码中第三方资源（CSS/JS等）
* Docker pull 镜像
* yum / apt 升级

**出现这个情况的原因是什么呢？**  

主要是需要访问的资源（或服务）是存放在应用提供商的国外服务器中，而 *应用服务器 -- 应用提供商服务器* 受制于地域原因，可能会出现偶尔或持续网络不通的情况。  

一旦网络不通，那么以上场景所对应的服务自然无法访问，最后只能接受系统超时的结果。  

**如何解决？**

既然是网络不通导致，而我们又无法对应用提供商服务器的网络做出任何动作。显然，只有从应用或应用所在的服务器网络情况做出应对，才能探索合适的解决方案：

1. 修改应用中的代码，将网络不通的服务替换。例如：更换 Docker 仓库地址。
2. 临时修改应用自身的网络访问，让应用可以直接与应用提供商服务器连通。例如：在 WordPress 中安装代理插件，临时让 WordPress 访问国外的升级服务器。
3. 临时改变自身服务器的网络，使之与应用提供商服务器连通。例如：应用服务器中安装代理客户端，使应用服务器可以通过代理去访问国外升级服务器。

以上提出的方案基本包括涵盖全部场景，但详细操作需根据具体的应用而定。

## 网站访问很慢？

网站慢最常见的原因包括如下几个方面：

* 带宽不够
* 服务器满负荷运转
* 图片、视频、CSS/JS等静态资源太多

我们在大量的实践中，发现中国的云用户（国外的云平台用户没有这个问题）普遍存在**带宽不够**的问题。  

为什么会出现这样的问题呢？

一方面是由特殊带宽计费商业模式导致，另外一方面中国地区的用户对带宽的大小是没有概念的，是模糊乃至错误的认知。  

**举例说明：**

如果您拥有**2M**的**包年包月**带宽，打开一个首页大概为4M的网站，大概需要几秒时间？

80%的用户认为应该是在2-3s内打开，实际上呢？

```
1M 带宽 = 128k/s 的下载速度
2M 带宽 = 256k/s 的下载速度
4M 页面的最小下载速度：4000k/256=15.6s
```

这个15.6s还没有考虑服务器的计算、网络延时等时间，所以访问一个带宽只有2M带宽的网站，需要20s也就不足为奇了。

**如何正确选择带宽？**

正确的方式：服务器采用**按量付费的带宽**，带宽的大小设置为最大（有些云平台高达 300M/s）

> 国外的主流云厂商，没有包年包月带宽这种选项，故没有错误选择带宽的困扰。

带宽大小与费用没有关系。按量付费规则下，是根据服务器的被下载量计算费用，用多少给多少。

**例如**：当前网站所有访问加起来的下载量为：5G，费用大概是：5×0.5 = 2.5元

另外针对静态资源较多的情况，我们建议：

1. 采用CDN
2. 网站图片超过1000张，建议从服务器中分离出去

以上方案简单可靠，降低服务器资源消耗，实现成本较低，效果好。

## 云平台提示漏洞？

云平台不断提醒系统有漏洞或潜在威胁，会不会是镜像默认存在病毒或木马、后门等不安全因素？

**首先，可以肯定的说，绝对不会默认存在病毒或木马、后门**

但需要澄清的是，仅保证**默认**不存在，但是后续出现又是正常的。

软件本身是不断升级迭代发展的，漏洞总是从发现到打补丁的循环中不断成长。镜像中包括：操作系统、中间件、数据库、语言等软件包，没一个软件包都有可能有漏洞。

最新的漏洞就会被发现，云平台就会第一时刻通知到用户，这反而是一件好事。

总而言之，软件的安全是动态系统，软件的本质决定没有人能够在安全上做到“万无一失，疏而不漏”。

另外，从商务角度看，云平台会有监管镜像产品的责任，间接的保障用户的安全：

* 合作选择：保证服务商有丰富的云服务器系统维护和环境配置经验，拥有专业的运维团队；
* 流程控制：要求服务商严格遵循《云平台安全审核标准》，只有通过安全审核的镜像才可以售卖；
* 合规机制：要求服务商须与每一个用户签订《镜像使用许可协议》，对镜像安全向用户作出承诺；

## 需要人工服务？

* 如果您在云平台订阅了我们的收费镜像，您可以享受人工服务，参考：[联系方式](https://support.websoft9.com/zh/contact.html)
* 如果您没有订阅我们的镜像，请到我们的 Github 上的[开源项目](https://github.com/websoft9)中提交 Issue 获取支持。

## SSH 密钥登录与密码登录有何区别？

SSH 密钥是一种远程登录 Linux 服务器的方式，其原理是利用密钥生成器制作一对密钥（公钥和私钥）。将公钥添加到服务器，然后在客户端利用私钥即可完成认证并登录，这种方式更加注重数据的安全性，同时区别于传统密码登录方式的手动输入，又具有更高的便捷性。
目前 Linux 实例有密码和 SSH 密钥两种登录方式，Windows 实例目前只有密码登录一种方式。
