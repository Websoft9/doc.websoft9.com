---
sidebar_position: 1.1
slug: /brandwith-infra
---

# 规划带宽和流量

在使用 Websoft9 多应用托管平台时，合理规划带宽是非常重要的。  

## 带宽重要性

带宽是网络服务质量的基础。不足的带宽可能导致服务中断、低效的操作和不满意的用户。  

- **用户体验**：高带宽可以提供更快的加载时间和更流畅的交互，从而改善用户体验。应用响应慢，用户可能会感到沮丧并离开。
- **并发支撑**：带宽越高，能够同时支持的并发用户数量就越多。对于高流量网站和应用，充足的带宽是必须的。
- **传输效率**：带宽影响数据的上传和下载速度。对于需要此类业务来说，高带宽至关重要。
- **搜索引擎排名**：网站的加载速度是搜索引擎排名算法的一个因素。网站如果加载速度慢，可能会在搜索引擎结果中排名较低。

## 计算带宽

应用托管的服务器的带宽要求取决于多种因素，包括：

- 用户数量：用户数越多或同时在线的用户数量越多，需要的带宽越大。
- 用户行为：如果用户频繁下载或上传大文件，你需要更多的带宽。
- 应用类型：流媒体服务、在线游戏、文件共享服务等带宽需求通常比静态内容网站高。
- 数据类型：视频、图片等大型媒体文件比文本和小图像消耗更多带宽。
- 预期增长：预计用户增长和服务扩展也应该在带宽需求考虑之内。
- 冗余和峰值容量：为了处理流量高峰，应该预留一些额外的带宽。

准确的评估带宽的：**带宽需求=用户数量×平均页面大小×平均页面查看数×冗余系数**  

**举例说明**：2M 带宽，打 4M 的单个页面，大概需要几秒时间？用户感觉可能是 2-3s 内打开，实际上呢？

```
1M 带宽 = 128k/s 的下载速度
2M 带宽 = 256k/s 的下载速度
4M 页面的最小下载耗时：4000k/256=15.6s
```

这个 15.6s 还没有考虑服务器的计算、网络延时等时间，综合下来可能需要 20s 以上。  

所以，网络带宽需要严格测算，方可得到正确的判断。    

## 带宽计费

我们在大量的客户支持实践中发现，选择**包年包月**带宽计费模式后，普遍存在**带宽不够**的问题。  

为什么会出现这样的问题呢？

由于包年包月是**先付费**的商业模式，云服务商设计的付费逻辑是**价格与带宽大小呈指数上升关系**。但用户没有对带宽需求进行严格测算时，本能的选择了非常小的带宽（大多数不超过5M/s），应用的访问体验可想而知多么糟糕。  

Websoft9 建议用户选择采用**按量付费的带宽**，此模式下带宽大小与费用没有关系，故带宽设置为最大较为合适。  

按量付费的带宽根据服务器的下行量计算费用，用多少给多少。

**例如**：网站每天被访问后中的数据下行量为 5G，费用大概是：5×0.5 = 2.5元

## 不可控流量

应用托管过程，还需要考虑一些不可用流量对带宽性能和计费造成的负面影响。  

- 非法流量：由网络攻击产生的流量，如分布式拒绝服务攻击（DDoS），它可能造成大量的成本。
- 爬虫和机器人流量：搜索引擎的爬虫和各种自动化脚本产生的流量，这些流量并不对应真实的用户访问。
- 其他无效流量：其他配置不当、欺诈访问、重复传输、未授权访问等无效的流量

这些不可用流量对于网络性能和安全性都可能构成影响，因此通常需要通过适当的网络管理和安全措施来进行控制和减少。 

## 采用 CDN

应用托管中时，从服务器带宽改善体验只是一个方式。

而采用 CDN 对于提升用户体验、提高网站性能和安全性以及降低成本都是非常重要的。随着互联网用户数量的增长和在线内容消费的增加，CDN 变得越来越普遍，几乎成为网站型应用的标配。